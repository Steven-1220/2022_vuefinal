"use strict";(self["webpackChunke_commerce_dessert"]=self["webpackChunke_commerce_dessert"]||[]).push([[446],{1835:function(t,e,a){a.d(e,{Z:function(){return m}});var s=a(3396),i=a(7139),o=a(9242);const n={"aria-label":"Page navigation",class:"mb-5"},r={class:"pagination justify-content-center"},c=["onClick"];function l(t,e,a,l,g,d){return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s._)("ul",r,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!a.pages.has_pre}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:e[0]||(e[0]=(0,o.iM)((t=>d.emitChangePage(a.pages.current_page-1)),["prevent"]))},"前一頁")],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.pages.total_pages,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:t===a.pages.current_page}]),key:t+"123"},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,o.iM)((e=>d.emitChangePage(t)),["prevent"])},(0,i.zw)(t),9,c)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!a.pages.has_next}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=(0,o.iM)((t=>d.emitChangePage(a.pages.current_page+1)),["prevent"]))},"下一頁")],2)])])}var g=a(7897),d={props:["pages"],methods:{emitChangePage(t){this.$emit("emit-get-page",t),g.Z.emit("toggle-menu")}}},u=a(89);const p=(0,u.Z)(d,[["render",l]]);var m=p},5446:function(t,e,a){a.r(e),a.d(e,{default:function(){return T}});var s=a(3396),i=a(7139);const o=t=>((0,s.dD)("data-v-cacda792"),t=t(),(0,s.Cn)(),t),n=o((()=>(0,s._)("header",{class:"container-fluid main-header px-5 py-5 mb-5 d-flex justify-content-center align-items-md-center bg-header"},[(0,s._)("div",{class:"text-white text-center special-bg p-4 d-flex flex-column justify-content-center text-wrap"},[(0,s._)("h2",{class:"fw-bold text-warning mb-3"},"選擇您的幸褔甜點"),(0,s._)("p",{class:"mb-0"},[(0,s.Uk)(" 每道甜點都是經典 "),(0,s._)("br"),(0,s.Uk)("觸動您的味蕾 "),(0,s._)("br"),(0,s.Uk)("傳遞法式幸福的氣息 ")])])],-1))),r={class:"container"},c={class:"row"},l={class:"col-md-3 pt-3 mb-5 mb-md-0 text-center"},g=o((()=>(0,s._)("h4",{class:"fs-4 bg-warning text-dark py-3 mb-0"},"甜點種類",-1))),d={class:"list-group"},u={class:"col-md-9 pb-4"},p={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4"},m={class:"card card-product border-0 h-100 move"},h={class:"card-body text-center position-relative px-0"},_=["src","alt"],v={class:"text-center text-dark mt-2"},y={class:"d-flex align-items-center justify-content-around"},b={class:"text-center text-muted text-decoration-line-through mt-2"},f=(0,s.Uk)(" 原價 NT$ "),C={class:"fs-5"},w={class:"text-center text-danger mt-2"},x=(0,s.Uk)(" 特價 NT$ "),k={class:"fs-5 fw-bold"},P={class:"card-body d-flex justify-content-between text-wrap text-sm-nowrap px-0"},$=(0,s.Uk)(" 查看產品 "),S=["disabled","onClick"];function N(t,e,a,o,N,L){const U=(0,s.up)("VueLoading"),Z=(0,s.up)("RouterLink"),j=(0,s.up)("PaginationView");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(U,{active:N.isLoading},null,8,["active"]),n,(0,s._)("section",r,[(0,s._)("div",c,[(0,s._)("div",l,[g,(0,s._)("div",d,[(0,s._)("button",{type:"button",class:(0,i.C_)(["list-group-item btn-hover-primary",{active:"全部"===N.categoryName}]),onClick:e[0]||(e[0]=t=>{L.getProduct(1),L.changeCategoryStatus("全部")})}," 全部 ",2),(0,s._)("button",{type:"button",class:(0,i.C_)(["list-group-item btn-hover-primary",{active:"蛋糕"===N.categoryName}]),onClick:e[1]||(e[1]=t=>{L.getProduct(1,"蛋糕"),L.changeCategoryStatus("蛋糕")})}," 蛋糕 ",2),(0,s._)("button",{type:"button",class:(0,i.C_)(["list-group-item btn-hover-primary",{active:"酥皮"===N.categoryName}]),onClick:e[2]||(e[2]=t=>{L.getProduct(1,"酥皮"),L.changeCategoryStatus("酥皮")})}," 酥皮 ",2),(0,s._)("button",{type:"button",class:(0,i.C_)(["list-group-item btn-hover-primary",{active:"布丁"===N.categoryName}]),onClick:e[3]||(e[3]=t=>{L.getProduct(1,"布丁"),L.changeCategoryStatus("布丁")})}," 布丁 ",2),(0,s._)("button",{type:"button",class:(0,i.C_)(["list-group-item btn-hover-primary",{active:"巧克力"===N.categoryName}]),onClick:e[4]||(e[4]=t=>{L.getProduct(1,"巧克力"),L.changeCategoryStatus("巧克力")})}," 巧克力 ",2)])]),(0,s._)("div",u,[(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(N.products,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col d-flex justify-content-center",key:t.id},[(0,s._)("div",m,[(0,s._)("div",h,[(0,s.Wm)(Z,{to:`product/${t.id}`},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.imageUrl,alt:t.category,class:"img-fluid",style:{height:"280px",width:"100%","object-fit":"cover"}},null,8,_)])),_:2},1032,["to"]),(0,s._)("div",v,[(0,s.Wm)(Z,{to:`product/${t.id}`,class:"text-decoration-none stretched-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t.title),1)])),_:2},1032,["to"])]),(0,s._)("div",y,[(0,s._)("div",b,[f,(0,s._)("span",C,(0,i.zw)(t.origin_price),1)]),(0,s._)("div",w,[x,(0,s._)("span",k,(0,i.zw)(t.price),1)])])]),(0,s._)("div",P,[(0,s.Wm)(Z,{to:`product/${t.id}`,class:"btn btn-outline-primary"},{default:(0,s.w5)((()=>[$])),_:2},1032,["to"]),(0,s._)("button",{type:"button",class:"btn btn-primary",disabled:N.loadingState,onClick:e=>L.addToCart(t.id)}," 加入購物車 ",8,S)])])])))),128))])])])]),(0,s.Wm)(j,{pages:N.pagination,onEmitGetPage:L.getProduct},null,8,["pages","onEmitGetPage"])],64)}var L=a(7897),U=a(1835),Z={components:{PaginationView:U.Z},data(){return{products:[],isLoading:!1,loadingState:!1,categoryName:"",pagination:{},favorite:JSON.parse(localStorage.getItem("favorite"))||[]}},methods:{getProduct(t=1,e){this.isLoading=!0;let a=`https://vue3-course-api.hexschool.io/v2/api/steven1220/products/?page=${t}`;e&&(a=`https://vue3-course-api.hexschool.io/v2/api/steven1220/products?category=${e}`),this.$http.get(a).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,L.Z.emit("get-cart"),L.Z.emit("toggle-menu"),this.isLoading=!1})).catch((t=>{console.log(t.response.data)}))},changeCategoryStatus(t){this.categoryName=t},addToCart(t){const e={product_id:t,qty:1};this.loadingState=!0,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/steven1220/cart",{data:e}).then((()=>{const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",this.$swal.stopTimer),t.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"成功加入購物車"}),L.Z.emit("get-cart"),this.loadingState=!1})).catch((t=>{console.log(t.response.data)}))}},mounted(){this.$route.query.category?(this.getProduct(1,this.$route.query.category),this.changeCategoryStatus(this.$route.query.category)):(this.getProduct(),this.changeCategoryStatus("全部"))}},j=a(89);const D=(0,j.Z)(Z,[["render",N],["__scopeId","data-v-cacda792"]]);var T=D}}]);
//# sourceMappingURL=446.4ec4f90d.js.map