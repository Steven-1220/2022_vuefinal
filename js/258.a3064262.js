"use strict";(self["webpackChunke_commerce_dessert"]=self["webpackChunke_commerce_dessert"]||[]).push([[258],{7258:function(t,e,i){i.r(e),i.d(e,{default:function(){return ht}});var s=i(3396),a=i(7139),o=i(9242);const c=t=>((0,s.dD)("data-v-083825ce"),t=t(),(0,s.Cn)(),t),d={class:"container px-4 py-5"},r=c((()=>(0,s._)("h3",{class:"fs-3"},"個別產品詳細內容",-1))),l={class:"row g-5 mb-4"},n={class:"col-md-6"},u={"aria-label":"breadcrumb"},p={class:"breadcrumb"},v={class:"breadcrumb-item"},h=(0,s.Uk)("首頁"),m={class:"breadcrumb-item"},g=(0,s.Uk)("全部商品"),b={class:"breadcrumb-item"},w={class:"col-md-6"},_={class:"d-flex"},f={class:"fs-2 pt-2 fw-bold"},y={class:"badge rounded-pill bg-primary"},k={class:"fs-5"},x={key:0,class:"h4"},$={key:1},z={class:"text-decoration-line-through h5"},S={class:"h4 text-danger fw-bold"},C={class:"row mb-2"},U={class:"col"},T={class:"btn-group"},q={key:0,class:"fs-6 fw-bold"},I=c((()=>(0,s._)("i",{class:"bi bi-heart-fill text-danger"}," 已加入我的最愛",-1))),P=[I],L={key:1,class:"fs-6"},N=c((()=>(0,s._)("i",{class:"bi bi-heart-fill"},null,-1))),W=(0,s.Uk)(" 加入我的最愛"),D=[N,W],j={class:"row g-sm-2"},B={class:"col-md-9"},V={class:"col-md-3"},E=["disabled"],F=(0,s.uE)('<section class="bg-warning" data-v-083825ce><div class="container px-4" data-v-083825ce><div class="row" data-v-083825ce><div class="col-md-6" data-v-083825ce><div class="align-items-center lh-lg py-5" data-v-083825ce><h3 class="fs-3" data-v-083825ce>食用與保存方式</h3><p class="mb-4" data-v-083825ce> 所有產品皆為天然嚴選食材，為保有最佳風味，請以冷藏或是冷凍的方式保存並在以下時間內食用完畢 </p><ul class="list-unstyled" data-v-083825ce><li data-v-083825ce><i class="bi bi-shop-window" data-v-083825ce></i> 蛋糕類 : 冷藏保存3天，冷凍保存5天 </li><li data-v-083825ce><i class="bi bi-shop-window" data-v-083825ce></i> 酥皮類 : 冷藏保存3天，冷凍保存6天 </li><li data-v-083825ce><i class="bi bi-shop-window" data-v-083825ce></i> 巧克力類 : 冷藏保存2天，冷凍保存30天 </li><li data-v-083825ce><i class="bi bi-shop-window" data-v-083825ce></i> 布丁類 : 冷藏保存3天</li></ul></div></div><div class="col-md-6" data-v-083825ce><div style="background-position:center center;background-size:cover;" class="h-100 d-none d-md-block bg-p1" data-v-083825ce></div></div></div></div></section>',1),O={class:"py-5"},Z={class:"container position-relative p-4"},H=c((()=>(0,s._)("h3",{class:"fw-bold pb-3 ps-4"},"相關推薦甜點",-1))),J={class:"row"},Y={class:"col"},K={class:"card h-100"},R={class:"card-body text-center position-relative"},A=["src","alt"],G={class:"text-center text-dark mt-2"},M={class:"d-flex align-items-center justify-content-around"},Q={class:"text-center text-muted text-decoration-line-through mt-2"},X=(0,s.Uk)(" 原價 NT$ "),tt={class:"fs-5"},et={class:"text-center text-danger fw-bold mt-2"},it=(0,s.Uk)(" 特價 NT$ "),st={class:"fs-5"},at={class:"card-body d-flex justify-content-between"},ot=(0,s.Uk)(" 查看產品 "),ct=["disabled","onClick"];function dt(t,e,i,c,I,N){const W=(0,s.up)("VueLoading"),dt=(0,s.up)("RouterLink"),rt=(0,s.up)("SwiperSlide"),lt=(0,s.up)("Swiper");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(W,{active:I.isLoading},null,8,["active"]),(0,s._)("div",d,[r,(0,s._)("div",l,[(0,s._)("div",n,[(0,s._)("nav",u,[(0,s._)("ol",p,[(0,s._)("li",v,[(0,s.Wm)(dt,{to:"/",class:"text-decoration-none"},{default:(0,s.w5)((()=>[h])),_:1})]),(0,s._)("li",m,[(0,s.Wm)(dt,{to:"/user/products",class:"text-decoration-none"},{default:(0,s.w5)((()=>[g])),_:1})]),(0,s._)("li",b,(0,a.zw)(I.product.category),1)])]),(0,s._)("div",{style:(0,a.j5)([{backgroundImage:`url(${I.product.imageUrl})`},{height:"350px","background-size":"cover","background-position":"center"}])},null,4)]),(0,s._)("div",w,[(0,s._)("div",_,[(0,s._)("h2",f,(0,a.zw)(I.product.title),1)]),(0,s._)("span",y,(0,a.zw)(I.product.category),1),(0,s._)("p",k,(0,a.zw)(I.product.description),1),(0,s._)("p",null,"尺寸 : "+(0,a.zw)(I.product.content),1),I.product.price===I.product.origin_price?((0,s.wg)(),(0,s.iD)("div",x,(0,a.zw)(I.product.origin_price)+" / "+(0,a.zw)(I.product.unit),1)):((0,s.wg)(),(0,s.iD)("div",$,[(0,s._)("p",z," 原價 NT$ : "+(0,a.zw)(I.product.origin_price)+" / "+(0,a.zw)(I.product.unit),1),(0,s._)("p",S," 特價 NT$ : "+(0,a.zw)(I.product.price)+" / "+(0,a.zw)(I.product.unit),1)])),(0,s._)("div",C,[(0,s._)("div",U,[(0,s._)("div",T,[(0,s._)("button",{type:"button",class:"btn btn-warning",onClick:e[0]||(e[0]=(...t)=>N.switchFavorite&&N.switchFavorite(...t))},[I.favorite.includes(this.$route.params.id)?((0,s.wg)(),(0,s.iD)("span",q,P)):((0,s.wg)(),(0,s.iD)("span",L,D))])])])]),(0,s._)("div",j,[(0,s._)("div",B,[(0,s.wy)((0,s._)("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>I.quantity=t),onChange:e[2]||(e[2]=t=>N.confirmNum(I.quantity))},null,544),[[o.nr,I.quantity,void 0,{number:!0}]])]),(0,s._)("div",V,[(0,s._)("button",{type:"button",class:"btn btn-primary text-nowrap mt-3 mt-sm-0",disabled:I.loadingState===I.product.id,onClick:e[3]||(e[3]=t=>N.addToCart(I.product.id))}," 加入購物車 ",8,E)])])])])]),F,(0,s._)("section",O,[(0,s._)("div",Z,[H,(0,s.Wm)(lt,{"slides-per-view":1,"space-between":50,modules:I.modules,navigation:"",pagination:{clickable:!0},breakpoints:{576:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:50}}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.products,(t=>((0,s.wg)(),(0,s.j4)(rt,{key:t.id},{default:(0,s.w5)((()=>[(0,s._)("div",J,[(0,s._)("div",Y,[(0,s._)("div",K,[(0,s._)("div",R,[(0,s.Wm)(dt,{to:`${t.id}`,class:"d-block"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.imageUrl,alt:t.category,class:"img-fluid",style:{height:"280px","object-fit":"cover"}},null,8,A)])),_:2},1032,["to"]),(0,s._)("div",G,[(0,s.Wm)(dt,{to:`${t.id}`,class:"text-decoration-none d-block stretched-link"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(t.title),1)])),_:2},1032,["to"])]),(0,s._)("div",M,[(0,s._)("div",Q,[X,(0,s._)("span",tt,(0,a.zw)(t.origin_price),1)]),(0,s._)("div",et,[it,(0,s._)("span",st,(0,a.zw)(t.price),1)])])]),(0,s._)("div",at,[(0,s.Wm)(dt,{to:`${t.id}`,class:"btn btn-outline-primary d-block"},{default:(0,s.w5)((()=>[ot])),_:2},1032,["to"]),(0,s._)("button",{type:"button",class:"btn btn-primary",disabled:I.loadingState===t.id,onClick:e=>N.addToCart(t.id)}," 加入購物車 ",8,ct)])])])])])),_:2},1024)))),128))])),_:1},8,["modules"])])])],64)}var rt=i(8008),lt=i(9231),nt=i(7897),ut={components:{Swiper:rt.tq,SwiperSlide:rt.o5},data(){return{product:{imageUrl:""},products:[],quantity:1,loadingState:"",isLoading:!1,modules:[lt.W_,lt.tl],favorite:JSON.parse(localStorage.getItem("favorite"))||[],id:""}},methods:{getProductInfo(){this.isLoading=!0;const t=this.$route.params.id,e=`https://vue3-course-api.hexschool.io/v2/api/steven1220/product/${t}`;this.$http.get(e).then((t=>{this.product=t.data.product,this.getProduct(this.product.category),nt.Z.emit("toggle-menu"),this.isLoading=!1})).catch((t=>{console.log(t.response.data)}))},addToCart(t){const e={product_id:t,qty:this.quantity};this.loadingState=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/steven1220/cart",{data:e}).then((()=>{this.loadingState="";const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",this.$swal.stopTimer),t.addEventListener("mouseleave",this.$swal.resumeTimer)}});t.fire({icon:"success",title:"成功加入購物車"}),nt.Z.emit("get-cart"),setTimeout((()=>{this.quantity=1}),1e3)})).catch((t=>{console.log(t.response.data)}))},getProduct(t){const e=`https://vue3-course-api.hexschool.io/v2/api/steven1220/products?category=${t}`;this.$http.get(e).then((t=>{this.products=t.data.products;const e=this.products.findIndex((t=>t.id===this.$route.params.id));this.products.splice(e,1)})).catch((t=>{console.log(t.response.data)}))},switchFavorite(){const t=this.$route.params.id,e=this.favorite.findIndex((e=>e===t));-1===e?this.favorite.push(t):this.favorite.splice(e,1)},confirmNum(t){/(^[1-9]\d*$)/.test(t)||(this.quantity=1)}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},$route(t){this.id=t.params.id,void 0!==this.$route.params.id&&this.getProductInfo()}},mounted(){this.getProductInfo()}},pt=i(89);const vt=(0,pt.Z)(ut,[["render",dt],["__scopeId","data-v-083825ce"]]);var ht=vt}}]);
//# sourceMappingURL=258.a3064262.js.map