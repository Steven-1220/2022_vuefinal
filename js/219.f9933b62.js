"use strict";(self["webpackChunke_commerce_dessert"]=self["webpackChunke_commerce_dessert"]||[]).push([[219],{7219:function(e,s,t){t.r(s),t.d(s,{default:function(){return x}});var o=t(3396),a=t(9242);const n=e=>((0,o.dD)("data-v-7a3ca976"),e=e(),(0,o.Cn)(),e),r={class:"container login"},l={class:"row justify-content-center px-3 px-sm-0"},c={class:"col-12 col-md-6"},i=n((()=>(0,o._)("h1",{class:"mb-3 text-center text-danger fw-bold"},"請先登入",-1))),d={class:"col-12"},u=n((()=>(0,o._)("label",{for:"username",class:"form-label fw-bold text-danger fs-4"},"帳號",-1))),m={class:"col-12"},p=n((()=>(0,o._)("label",{for:"password",class:"form-label fw-bold text-danger fs-4"},"密碼",-1))),f=n((()=>(0,o._)("div",{class:"col-12 col-md-6 text-nowrap"},[(0,o._)("button",{type:"submit",class:"w-100 btn btn-primary"}," 登入 ")],-1))),w={class:"col-12 col-md-6 text-nowrap"},_=(0,o.Uk)("回首頁");function h(e,s,t,n,h,g){const b=(0,o.up)("VueLoading"),v=(0,o.up)("RouterLink");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(b,{active:h.isLoading},null,8,["active"]),(0,o._)("html",null,[(0,o._)("body",null,[(0,o._)("div",r,[(0,o._)("div",l,[(0,o._)("div",c,[(0,o._)("form",{class:"row g-3 p-4 bg-warning",onSubmit:s[2]||(s[2]=(0,a.iM)(((...e)=>g.login&&g.login(...e)),["prevent"]))},[i,(0,o._)("div",d,[u,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":s[0]||(s[0]=e=>h.user.username=e),required:"",autofocus:""},null,512),[[a.nr,h.user.username]])]),(0,o._)("div",m,[p,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>h.user.password=e),required:""},null,512),[[a.nr,h.user.password]])]),f,(0,o._)("div",w,[(0,o.Wm)(v,{to:"/",class:"w-100 btn btn-primary"},{default:(0,o.w5)((()=>[_])),_:1})])],32)])])])])])],64)}var g={data(){return{user:{username:"",password:""},isLoading:!1}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{const{token:s,expired:t}=e.data;document.cookie=`myToken=${s}; expires=${new Date(t)};`,this.$router.push("/admin/products")})).catch((e=>{alert(e.response.data.message),this.user.password=""}))},loadingEffect(){this.isLoading=!0,setTimeout((()=>{this.isLoading=!1}),500)}},mounted(){this.loadingEffect()}},b=t(89);const v=(0,b.Z)(g,[["render",h],["__scopeId","data-v-7a3ca976"]]);var x=v}}]);
//# sourceMappingURL=219.f9933b62.js.map