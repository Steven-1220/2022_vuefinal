{"version":3,"file":"js/446.4ec4f90d.js","mappings":"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","sources":["webpack://e-commerce-dessert/./src/components/PaginationView.vue","webpack://e-commerce-dessert/./src/components/PaginationView.vue?d04d","webpack://e-commerce-dessert/./src/views/ProductsView.vue","webpack://e-commerce-dessert/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation\" class=\"mb-5\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"emitChangePage(pages.current_page - 1)\"\n          >前一頁</a\n        >\n      </li>\n\n      <li\n        class=\"page-item\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page + '123'\"\n        :class=\"{ active: page === pages.current_page }\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"emitChangePage(page)\">{{\n          page\n        }}</a>\n      </li>\n\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"emitChangePage(pages.current_page + 1)\"\n          >下一頁</a\n        >\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nimport emitter from \"@/libraries/emitter\";\n\nexport default {\n  props: [\"pages\"],\n  methods: {\n    emitChangePage(item) {\n      this.$emit(\"emit-get-page\", item);\n      emitter.emit(\"toggle-menu\");\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationView.vue?vue&type=template&id=4ddf72a8\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_vuefinal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <VueLoading :active=\"isLoading\" />\n\n  <header\n    class=\"container-fluid main-header px-5 py-5 mb-5 d-flex justify-content-center align-items-md-center bg-header\"\n  >\n    <div\n      class=\"text-white text-center special-bg p-4 d-flex flex-column justify-content-center text-wrap\"\n    >\n      <h2 class=\"fw-bold text-warning mb-3\">選擇您的幸褔甜點</h2>\n      <p class=\"mb-0\">\n        每道甜點都是經典 <br />觸動您的味蕾 <br />傳遞法式幸福的氣息\n      </p>\n    </div>\n  </header>\n\n  <section class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-3 pt-3 mb-5 mb-md-0 text-center\">\n        <h4 class=\"fs-4 bg-warning text-dark py-3 mb-0\">甜點種類</h4>\n        <div class=\"list-group\">\n          <button\n            type=\"button\"\n            class=\"list-group-item btn-hover-primary\"\n            :class=\"{ active: categoryName === '全部' }\"\n            @click=\"\n              getProduct(1);\n              changeCategoryStatus('全部');\n            \"\n          >\n            全部\n          </button>\n          <button\n            type=\"button\"\n            class=\"list-group-item btn-hover-primary\"\n            :class=\"{ active: categoryName === '蛋糕' }\"\n            @click=\"\n              getProduct(1, '蛋糕');\n              changeCategoryStatus('蛋糕');\n            \"\n          >\n            蛋糕\n          </button>\n          <button\n            type=\"button\"\n            class=\"list-group-item btn-hover-primary\"\n            :class=\"{ active: categoryName === '酥皮' }\"\n            @click=\"\n              getProduct(1, '酥皮');\n              changeCategoryStatus('酥皮');\n            \"\n          >\n            酥皮\n          </button>\n          <button\n            type=\"button\"\n            class=\"list-group-item btn-hover-primary\"\n            :class=\"{ active: categoryName === '布丁' }\"\n            @click=\"\n              getProduct(1, '布丁');\n              changeCategoryStatus('布丁');\n            \"\n          >\n            布丁\n          </button>\n          <button\n            type=\"button\"\n            class=\"list-group-item btn-hover-primary\"\n            :class=\"{ active: categoryName === '巧克力' }\"\n            @click=\"\n              getProduct(1, '巧克力');\n              changeCategoryStatus('巧克力');\n            \"\n          >\n            巧克力\n          </button>\n        </div>\n      </div>\n      <div class=\"col-md-9 pb-4\">\n        <div class=\"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4\">\n          <div\n            class=\"col d-flex justify-content-center\"\n            v-for=\"item in products\"\n            :key=\"item.id\"\n          >\n            <div class=\"card card-product border-0 h-100 move\">\n              <div class=\"card-body text-center position-relative px-0\">\n                <RouterLink :to=\"`product/${item.id}`\">\n                  <img\n                    :src=\"item.imageUrl\"\n                    :alt=\"item.category\"\n                    class=\"img-fluid\"\n                    style=\"height: 280px; width: 100%; object-fit: cover\"\n                  />\n                </RouterLink>\n\n                <div class=\"text-center text-dark mt-2\">\n                  <RouterLink\n                    :to=\"`product/${item.id}`\"\n                    class=\"text-decoration-none stretched-link\"\n                    >{{ item.title }}</RouterLink\n                  >\n                </div>\n                <div class=\"d-flex align-items-center justify-content-around\">\n                  <div\n                    class=\"text-center text-muted text-decoration-line-through mt-2\"\n                  >\n                    原價 NT$ <span class=\"fs-5\">{{ item.origin_price }}</span>\n                  </div>\n                  <div class=\"text-center text-danger mt-2\">\n                    特價 NT$\n                    <span class=\"fs-5 fw-bold\">{{ item.price }}</span>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"card-body d-flex justify-content-between text-wrap text-sm-nowrap px-0\"\n              >\n                <RouterLink\n                  :to=\"`product/${item.id}`\"\n                  class=\"btn btn-outline-primary\"\n                >\n                  查看產品\n                </RouterLink>\n\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary\"\n                  :disabled=\"loadingState\"\n                  @click=\"addToCart(item.id)\"\n                >\n                  加入購物車\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <PaginationView :pages=\"pagination\" @emit-get-page=\"getProduct\" />\n</template>\n\n<script>\nimport emitter from \"@/libraries/emitter\";\nimport PaginationView from \"@/components/PaginationView.vue\";\n\nexport default {\n  components: {\n    PaginationView,\n  },\n  data() {\n    return {\n      products: [],\n      isLoading: false,\n      loadingState: false,\n      categoryName: \"\",\n      pagination: {},\n      favorite: JSON.parse(localStorage.getItem(\"favorite\")) || [],\n    };\n  },\n  methods: {\n    getProduct(page = 1, category) {\n      this.isLoading = true;\n\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/?page=${page}`;\n      if (category) {\n        url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?category=${category}`;\n      }\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          emitter.emit(\"get-cart\");\n          emitter.emit(\"toggle-menu\");\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    },\n    changeCategoryStatus(category) {\n      this.categoryName = category;\n    },\n    addToCart(id) {\n      const data = {\n        product_id: id,\n        qty: 1,\n      };\n      this.loadingState = true;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\n          { data },\n        )\n        .then(() => {\n          const Toast = this.$swal.mixin({\n            toast: true,\n            position: \"top-end\",\n            showConfirmButton: false,\n            timer: 1500,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener(\"mouseenter\", this.$swal.stopTimer);\n              toast.addEventListener(\"mouseleave\", this.$swal.resumeTimer);\n            },\n          });\n\n          Toast.fire({\n            icon: \"success\",\n            title: \"成功加入購物車\",\n          });\n\n          emitter.emit(\"get-cart\");\n          this.loadingState = false;\n        })\n        .catch((err) => {\n          console.log(err.response.data);\n        });\n    },\n  },\n  mounted() {\n    if (this.$route.query.category) {\n      this.getProduct(1, this.$route.query.category);\n      this.changeCategoryStatus(this.$route.query.category);\n    } else {\n      this.getProduct();\n      this.changeCategoryStatus(\"全部\");\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.main-header {\n  height: 300px;\n  h2 {\n    font-size: 24px;\n  }\n\n  @media (min-width: 768px) {\n    height: 400px;\n    h2 {\n      font-size: 32px;\n    }\n    p {\n      font-size: 20px;\n    }\n  }\n}\n\n.special-bg {\n  background-color: rgba(0, 0, 0, 0.4);\n}\n\n.bg-header {\n  background-image: url(../assets/images/products-2.jpg);\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n\n.card-product {\n  max-width: 360px;\n}\n\n@media (min-width: 1024px) {\n  .move {\n    transform: translateY(0px);\n    transition: 0.8s;\n  }\n\n  .move:hover {\n    transform: translateY(-20px);\n  }\n  .btn-hover-primary:hover {\n    color: white;\n    background-color: #1c2049;\n  }\n}\n</style>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=cacda792&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=cacda792&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_vuefinal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cacda792\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","disabled","$props","has_pre","href","onClick","$options","current_page","_Fragment","_renderList","total_pages","page","active","key","_hoisted_3","has_next","props","methods","emitChangePage","item","this","$emit","emitter","__exports__","render","_createVNode","_component_VueLoading","$data","_hoisted_1","_hoisted_5","type","id","_component_RouterLink","to","src","imageUrl","alt","category","style","title","_toDisplayString","origin_price","price","_hoisted_22","_component_PaginationView","pages","onEmitGetPage","components","PaginationView","data","products","isLoading","loadingState","categoryName","pagination","favorite","JSON","parse","localStorage","getItem","getProduct","url","$http","get","then","res","catch","err","console","log","response","changeCategoryStatus","addToCart","product_id","qty","post","Toast","$swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","mounted","$route","query"],"sourceRoot":""}