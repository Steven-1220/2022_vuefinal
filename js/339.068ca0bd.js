"use strict";(self["webpackChunke_commerce_dessert"]=self["webpackChunke_commerce_dessert"]||[]).push([[339],{6339:function(s,e,t){t.r(e),t.d(e,{default:function(){return z}});var a=t(3396);const n={class:"navbar px-0 navbar-expand-lg navbar-light bg-warning"},o={class:"collapse navbar-collapse custom-header-md-open container-fluid",id:"navbarNav"},c={class:"navbar-nav"},l={class:"nav-item"},i=(0,a.Uk)("產品"),r={class:"nav-item"},u=(0,a.Uk)("訂單"),d={class:"nav-item"},h=(0,a.Uk)("優惠券"),m={class:"nav-item"},p=(0,a.Uk)("登出");function k(s,e,t,k,v,g){const _=(0,a.up)("ToastMessage"),w=(0,a.up)("RouterLink"),b=(0,a.up)("RouterView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(_),(0,a._)("nav",n,[(0,a._)("div",o,[(0,a._)("ul",c,[(0,a._)("li",l,[(0,a.Wm)(w,{class:"nav-link ps-md-0",to:"/admin/products"},{default:(0,a.w5)((()=>[i])),_:1})]),(0,a._)("li",r,[(0,a.Wm)(w,{class:"nav-link ps-md-2",to:"/admin/orders"},{default:(0,a.w5)((()=>[u])),_:1})]),(0,a._)("li",d,[(0,a.Wm)(w,{class:"nav-link ps-md-2",to:"/admin/coupon"},{default:(0,a.w5)((()=>[h])),_:1})]),(0,a._)("li",m,[(0,a.Wm)(w,{class:"nav-link ps-md-5",to:"/login"},{default:(0,a.w5)((()=>[p])),_:1})])])])]),v.checkSuccess?((0,a.wg)(),(0,a.j4)(b,{key:0})):(0,a.kq)("",!0)],64)}var v=t(7139);const g={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},_={class:"toast-header"},w={class:"me-auto"},b=["onClick"],f={key:0,class:"toast-body"};function y(s,e,t,n,o,c){return(0,a.wg)(),(0,a.iD)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.messages,((s,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:(0,v.C_)(["toast show",`toast${e}`]),role:"alert"},[(0,a._)("div",_,[(0,a._)("span",{class:(0,v.C_)([`bg-${s.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,a._)("strong",w,(0,v.zw)(s.title),1),(0,a._)("button",{type:"button",class:"btn-close",onClick:s=>c.clearToast(e),"aria-label":"Close"},null,8,b)]),s.content?((0,a.wg)(),(0,a.iD)("div",f,(0,v.zw)(s.content),1)):(0,a.kq)("",!0)],2)))),128))])}var $=t(7897),C={data(){return{messages:[]}},methods:{toastShow(){setTimeout((()=>{this.messages.shift()}),6e3)},clearToast(s){this.messages.splice(s,1)}},mounted(){$.Z.on("push-message",(s=>{const{style:e="success",title:t,content:a}=s;this.messages.push({style:e,title:t,content:a}),this.toastShow()}))}},T=t(89);const x=(0,T.Z)(C,[["render",y]]);var D=x,S={components:{ToastMessage:D},data(){return{checkSuccess:!1}},methods:{checkLogin(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(s){this.$http.defaults.headers.common.Authorization=s;const e="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(e).then((()=>{this.checkSuccess=!0})).catch((s=>{alert(s.data.message),this.$router.push("/login")}))}else alert("您尚未登入。"),this.$router.push("/login")},logOut(){document.cookie="myToken=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkLogin()}};const W=(0,T.Z)(S,[["render",k]]);var z=W}}]);
//# sourceMappingURL=339.068ca0bd.js.map